(window.webpackJsonp=window.webpackJsonp||[]).push([[106,5,7,10,11,15,21,22,27,40,42,44,46,47,50,56,57,60,61,62,64,65,83,91,96,98,103,109,113,119,123,127],{201:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return A})),n.d(t,"metadata",(function(){return B})),n.d(t,"toc",(function(){return k})),n.d(t,"default",(function(){return R}));var a=n(3),r=n(7),s=n(0),o=n.n(s),i=n(204),c=n(257),d=n(258),u=n(259),l=n(260),p=n(261),b=n(85),m=n(86),f=n(82),h=n(84),j=n(79),O=n(83),g=n(80),y=n(87);function v(){return o.a.createElement(b.default,null)}function N(){return o.a.createElement(m.default,null)}function q(){return o.a.createElement(f.default,null)}function w(){return o.a.createElement(h.default,null)}function T(){return o.a.createElement(j.default,null)}function C(){return o.a.createElement(O.default,null)}function x(){return o.a.createElement(g.default,null)}function P(){return o.a.createElement(y.default,null)}var A={id:"use-odata-v4-type-safe-client-for-javascript-typescript",title:"Use the OData v4 Client",sidebar_label:"OData v4 Client API",description:"Use the SAP Cloud SDK for JavaScript to build and run OData v4 requests in a type-safe way.",keywords:["sap","cloud","sdk","odata","JavaScript","TypeScript","consume"]},B={unversionedId:"js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",id:"js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",isDocsHomePage:!1,title:"Use the OData v4 Client",description:"Use the SAP Cloud SDK for JavaScript to build and run OData v4 requests in a type-safe way.",source:"@site/docs/js/features/odata/odata-v4-client.mdx",slug:"/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",permalink:"/cloud-sdk/docs/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/odata-v4-client.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324,sidebar_label:"OData v4 Client API",sidebar:"someSidebar",previous:{title:"Use the OData v2 Client",permalink:"/cloud-sdk/docs/js/features/odata/use-odata-v2-type-safe-client-for-javascript-typescript"},next:{title:"Destinations",permalink:"/cloud-sdk/docs/js/features/connectivity/destination"}},k=[{value:"GetAll Request Builder",id:"getall-request-builder",children:[{value:"Select",id:"select",children:[]},{value:"Filter",id:"filter",children:[]},{value:"Expand",id:"expand",children:[]},{value:"Skip",id:"skip",children:[]},{value:"Top",id:"top",children:[]},{value:"Count",id:"count",children:[]}]},{value:"GetByKey Request Builder",id:"getbykey-request-builder",children:[]},{value:"Create Request Builder",id:"create-request-builder",children:[{value:"Deep Create",id:"deep-create",children:[]},{value:"Create as Child Of",id:"create-as-child-of",children:[]}]},{value:"Update Request Builder",id:"update-request-builder",children:[]},{value:"Delete Request Builder",id:"delete-request-builder",children:[]},{value:"Handling of ETags",id:"handling-of-etags",children:[]},{value:"Handling of Cross-Site Request Forgery Tokens",id:"handling-of-cross-site-request-forgery-tokens",children:[]},{value:"Available Filter Expressions",id:"available-filter-expressions",children:[{value:"Filter Functions",id:"filter-functions",children:[]}]},{value:"Function Imports",id:"function-imports",children:[{value:"Request Builder",id:"request-builder",children:[]},{value:"Setting ETag",id:"setting-etag",children:[]},{value:"Known Issues",id:"known-issues",children:[]}]},{value:"Action Imports",id:"action-imports",children:[{value:"Known Issues",id:"known-issues-1",children:[]}]},{value:"Batch Requests",id:"batch-requests",children:[{value:"Retrieve Request",id:"retrieve-request",children:[]},{value:"Changeset",id:"changeset",children:[]},{value:"Combining Requests",id:"combining-requests",children:[]},{value:"Serialization",id:"serialization",children:[]},{value:"Configure Subrequest Serialization",id:"configure-subrequest-serialization",children:[]}]}],D=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",t)}},S=D("ETag"),E=D("CombingRequests"),M={toc:k};function R(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},M,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"In the following, the OData v4 features supported by the SAP Cloud SDK are explained."),Object(i.b)("p",null,"For more details on ",Object(i.b)("strong",{parentName:"p"},"how to execute requests")," using a (pre-)generated OData client refer to ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"./execute-odata-request"}),"this documentation"),"."),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"In the following code examples sometimes the business-partner service is used.\nThis is a v2 service, but the listed examples are identical for OData v2 and v4."))),Object(i.b)("h2",{id:"getall-request-builder"},"GetAll Request Builder"),Object(i.b)(c.f,{mdxType:"GetAll"}),Object(i.b)("h3",{id:"select"},"Select"),Object(i.b)("p",null,'{" "}'),Object(i.b)(w,{mdxType:"Select"}),Object(i.b)("h3",{id:"filter"},"Filter"),Object(i.b)("p",null,'{" "}'),Object(i.b)(d.a,{mdxType:"Filter"}),Object(i.b)("h4",{id:"filter-on-one-to-one-navigation-properties"},"Filter on One-to-One Navigation Properties"),Object(i.b)("p",null,'{" "}'),Object(i.b)(d.c,{mdxType:"FilterOneToOne"}),Object(i.b)("h4",{id:"filter-on-one-to-many-navigation-properties"},"Filter on One-to-Many Navigation Properties"),Object(i.b)("p",null,'{" "}'),Object(i.b)(N,{mdxType:"FilterOneToMany"}),Object(i.b)("h4",{id:"more-filter-expressions"},"More Filter Expressions"),Object(i.b)("p",null,"More advanced filter expressions can be found ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#available-filter-expressions"}),"here"),"."),Object(i.b)("h3",{id:"expand"},"Expand"),Object(i.b)("h4",{id:"expand-and-select"},"Expand and Select ",Object(i.b)("a",{name:"expand-and-select"})),Object(i.b)("p",null,'{" "}'),Object(i.b)(v,{mdxType:"ExpandSelect"}),Object(i.b)("h4",{id:"sub-queries-in-expand"},"Sub-Queries in Expand"),Object(i.b)("p",null,'{" "}'),Object(i.b)(T,{mdxType:"SubqueriesInExpand"}),Object(i.b)("h4",{id:"filter-parent-vs-filter-children"},"Filter Parent vs Filter Children ",Object(i.b)("a",{name:"filterParentChildren"})),Object(i.b)("p",null,'{" "}'),Object(i.b)(q,{mdxType:"FilterParentChild"}),Object(i.b)("h3",{id:"skip"},"Skip"),Object(i.b)("p",null,'{" "}'),Object(i.b)(d.d,{mdxType:"Skip"}),Object(i.b)("h3",{id:"top"},"Top"),Object(i.b)("p",null,'{" "}'),Object(i.b)(d.e,{mdxType:"Top"}),Object(i.b)("h3",{id:"count"},"Count"),Object(i.b)("p",null,'{" "}'),Object(i.b)(c.a,{mdxType:"Count"}),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Using count within a filter is not supported")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Note that we currently do not support the usage of count within a filter condition as described in the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"http://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html#sec_AddressingtheCountofaCollection"}),"OData v4 specification"),"."))),Object(i.b)("h2",{id:"getbykey-request-builder"},"GetByKey Request Builder"),Object(i.b)(c.g,{mdxType:"GetByKey"}),Object(i.b)("h2",{id:"create-request-builder"},"Create Request Builder"),Object(i.b)(c.b,{mdxType:"Create"}),Object(i.b)("h3",{id:"deep-create"},"Deep Create"),Object(i.b)("p",null,'{" "}'),Object(i.b)(c.d,{mdxType:"DeepCreate"}),Object(i.b)("h3",{id:"create-as-child-of"},"Create as Child Of"),Object(i.b)("p",null,'{" "}'),Object(i.b)(c.c,{mdxType:"CreateAsChildOf"}),Object(i.b)("h2",{id:"update-request-builder"},"Update Request Builder"),Object(i.b)(c.h,{mdxType:"Update"}),Object(i.b)("h2",{id:"delete-request-builder"},"Delete Request Builder"),Object(i.b)(c.e,{mdxType:"Delete"}),Object(i.b)("h2",{id:"handling-of-etags"},"Handling of ETags"),Object(i.b)(S,{mdxType:"ETag"}),Object(i.b)("h2",{id:"handling-of-cross-site-request-forgery-tokens"},"Handling of Cross-Site Request Forgery Tokens"),Object(i.b)(p.a,{mdxType:"Csrf"}),Object(i.b)("h2",{id:"available-filter-expressions"},"Available Filter Expressions"),Object(i.b)("h3",{id:"filter-functions"},"Filter Functions"),Object(i.b)("p",null,'{" "}'),Object(i.b)(d.b,{mdxType:"FilterFunctions"}),Object(i.b)("h2",{id:"function-imports"},"Function Imports"),Object(i.b)("h3",{id:"request-builder"},"Request Builder"),Object(i.b)("p",null,'{" "}'),Object(i.b)(u.b,{mdxType:"RequestBuilder"}),Object(i.b)("h3",{id:"setting-etag"},"Setting ETag"),Object(i.b)("p",null,'{" "}'),Object(i.b)(u.a,{mdxType:"EtagFunctionImport"}),Object(i.b)("h3",{id:"known-issues"},"Known Issues"),Object(i.b)("p",null,'{" "}'),Object(i.b)(C,{mdxType:"FunctionImportKnownIssues"}),Object(i.b)("h2",{id:"action-imports"},"Action Imports"),Object(i.b)("p",null,'{" "}'),Object(i.b)(x,{mdxType:"ActionImport"}),Object(i.b)("h3",{id:"known-issues-1"},"Known Issues"),Object(i.b)("p",null,'{" "}'),Object(i.b)(P,{mdxType:"ActionImportKnownIssues"}),Object(i.b)("h2",{id:"batch-requests"},"Batch Requests"),Object(i.b)(l.a,{mdxType:"BatchIntro"}),Object(i.b)("h3",{id:"retrieve-request"},"Retrieve Request"),Object(i.b)("p",null,'{" "}'),Object(i.b)(l.d,{mdxType:"RetrieveRequests"}),Object(i.b)("h3",{id:"changeset"},"Changeset"),Object(i.b)("p",null,'{" "}'),Object(i.b)(l.b,{mdxType:"ChangeSet"}),Object(i.b)("h3",{id:"combining-requests"},"Combining Requests"),Object(i.b)("p",null,'{" "}'),Object(i.b)(E,{mdxType:"CombingRequests"}),Object(i.b)("h3",{id:"serialization"},"Serialization"),Object(i.b)("p",null,'{" "}'),Object(i.b)(l.e,{mdxType:"Serialization"}),Object(i.b)("h3",{id:"configure-subrequest-serialization"},"Configure Subrequest Serialization"),Object(i.b)("p",null,'{" "}'),Object(i.b)(l.c,{mdxType:"ConfigureSerialization"}))}R.isMDXComponent=!0},204:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createContext({}),u=function(e){var t=r.a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,o=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),l=u(n),b=a,m=l["".concat(o,".").concat(b)]||l[b]||p[b]||s;return n?r.a.createElement(m,i(i({ref:t},d),{},{components:n})):r.a.createElement(m,i({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var d=2;d<s;d++)o[d]=n[d];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},257:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return y}));var a=n(0),r=n.n(a),s=n(73),o=n(76),i=n(57),c=n(77),d=n(58),u=n(74),l=n(78),p=n(64);function b(){return r.a.createElement(s.default,null)}function m(){return r.a.createElement(o.default,null)}function f(){return r.a.createElement(i.default,null)}function h(){return r.a.createElement(c.default,null)}function j(){return r.a.createElement(d.default,null)}function O(){return r.a.createElement(u.default,null)}function g(){return r.a.createElement(l.default,null)}function y(){return r.a.createElement(p.default,null)}},258:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a),s=n(66),o=n(65),i=n(68),c=n(63),d=n(69);function u(){return r.a.createElement(s.default,null)}function l(){return r.a.createElement(o.default,null)}function p(){return r.a.createElement(i.default,null)}function b(){return r.a.createElement(c.default,null)}function m(){return r.a.createElement(d.default,null)}},259:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),s=n(72),o=n(56);function i(){return r.a.createElement(s.default,null)}function c(){return r.a.createElement(o.default,null)}},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return m}));var a=n(0),r=n.n(a),s=n(61),o=n(71),i=(n(62),n(67)),c=n(75),d=n(70);function u(){return r.a.createElement(s.default,null)}function l(){return r.a.createElement(o.default,null)}function p(){return r.a.createElement(d.default,null)}function b(){return r.a.createElement(c.default,null)}function m(){return r.a.createElement(i.default,null)}},261:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n.n(a),s=n(60);n(59);function o(){return r.a.createElement(s.default,null)}},56:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/function-imports/etag-function-import",id:"js/features/odata/common/function-imports/etag-function-import",isDocsHomePage:!1,title:"etag-function-import",description:"The ETag handling with the function imports is not integrated.",source:"@site/docs/js/features/odata/common/function-imports/etag-function-import.mdx",slug:"/js/features/odata/common/function-imports/etag-function-import",permalink:"/cloud-sdk/docs/js/features/odata/common/function-imports/etag-function-import",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/function-imports/etag-function-import.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The ",Object(s.b)("inlineCode",{parentName:"p"},"ETag")," handling with the function imports is not integrated.\nBelow is an example demonstrating how to make use of the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.26.1/classes/sap_cloud_sdk_core.functionimportrequestbuilder-1#withcustomheaders"}),Object(s.b)("inlineCode",{parentName:"a"},"withCustomHeaders"))," for setting ",Object(s.b)("inlineCode",{parentName:"p"},"ETag")," by your own.\nIn order to use ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/classes/sap_cloud_sdk_core.entityv2#versionidentifier"}),Object(s.b)("inlineCode",{parentName:"a"},"versionIdentifier"))," for ",Object(s.b)("inlineCode",{parentName:"p"},"ETag")," value, make sure you fetch the entity information via e.g., a ",Object(s.b)("inlineCode",{parentName:"p"},"get")," request."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"postGoodsIssue({ outboundDeliveryOrder: 'order' })\n  .withCustomHeaders({ 'if-match': entity.versionIdentifier })\n  .execute(destination);\n")))}u.isMDXComponent=!0},57:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/create-as-child-of",id:"js/features/odata/common/operations/create-as-child-of",isDocsHomePage:!1,title:"create-as-child-of",description:"Assume you have already created a business partner and would like to add a new address to it:",source:"@site/docs/js/features/odata/common/operations/create-as-child-of.mdx",slug:"/js/features/odata/common/operations/create-as-child-of",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/create-as-child-of",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/create-as-child-of.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Assume you have already created a business partner and would like to add a new address to it:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const existingBusinessPartner = await BusinessPartner.requestBuilder()\n  .getByKey(myID)\n  .execute(myDestination);\n\nconst newAddress = BusinessPartnerAddress.builder()\n  .country('DE')\n  .postalCode('14469')\n  .cityName('Potsdam')\n  .streetName('Konrad-Zuse-Ring')\n  .houseNumber('10')\n  .build();\n")),Object(s.b)("p",null,"This can be done by using the ",Object(s.b)("inlineCode",{parentName:"p"},"asChildOf")," method which allows creating an entity as a child of an existing entity.\nYou need to give the parent object and the field connecting the two entities:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartnerAddress.requestBuilder()\n  .create(newAddress)\n  .asChildOf(\n    existingBusinessPartner,\n    BusinessPartner.TO_BUSINESS_PARTNER_ADDRESS\n  )\n  .execute(myDestination);\n")))}u.isMDXComponent=!0},58:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/delete",id:"js/features/odata/common/operations/delete",isDocsHomePage:!1,title:"delete",description:"The Delete request builder allows you to create DELETE requests, that delete an entity.",source:"@site/docs/js/features/odata/common/operations/delete.mdx",slug:"/js/features/odata/common/operations/delete",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/delete",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/delete.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The Delete request builder allows you to create ",Object(s.b)("inlineCode",{parentName:"p"},"DELETE")," requests, that delete an entity."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  The following won't work on the real SAP S/4HANA BusinessPartner service because BusinessPartners cannot be deleted.\n  We added this only for the sake of the example.\n*/\nBusinessPartner.requestBuilder().delete(businessPartner);\n")),Object(s.b)("p",null,"Entities can only be deleted if ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#handling-of-etags"}),"ETags")," match.\nIf you want to force deletion of the entity regardless of the ETag configure the request to ignore version identifiers with ",Object(s.b)("inlineCode",{parentName:"p"},"ignoreVersionIdentifier"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .delete(businessPartner)\n  .ignoreVersionIdentifier();\n")),Object(s.b)("p",null,"You can also overwrite ETags using ",Object(s.b)("inlineCode",{parentName:"p"},"setVersionIdentifier"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .delete(businessPartner)\n  .setVersionIdentifier('etag');\n")),Object(s.b)("p",null,"In the example above the ETag 'ETag' is being used instead of the original one."))}u.isMDXComponent=!0},59:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/etag",id:"js/features/odata/common/etag",isDocsHomePage:!1,title:"etag",description:"An ETag is a version identifier that is often used to implement an optimistic locking mechanism.",source:"@site/docs/js/features/odata/common/etag.mdx",slug:"/js/features/odata/common/etag",permalink:"/cloud-sdk/docs/js/features/odata/common/etag",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/etag.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"An ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"}),"ETag")," is a version identifier that is often used to implement an optimistic locking mechanism.\nThe SAP Cloud SDK will try to read version identifiers from responses and set them when sending OData requests."),Object(s.b)("p",null,"Consider the following example:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"async function modifyBusinessPartner(id) {\n  const destination = { url: 'https://my.s4-system.com' };\n\n  const businessPartner = await BusinessPartner.requestBuilder()\n    .getByKey(id)\n    .execute(myDestination);\n\n  // do some modification\n  applyModification(businessPartner);\n\n  return BusinessPartner.requestBuilder()\n    .update(businessPartner)\n    .execute(destination);\n}\n")),Object(s.b)("p",null,"When executing ",Object(s.b)("inlineCode",{parentName:"p"},"getAll")," and ",Object(s.b)("inlineCode",{parentName:"p"},"getByKey")," requests the SAP Cloud SDK will automatically attempt to extract the version identifier from the response and store it within the returned entity (",Object(s.b)("inlineCode",{parentName:"p"},"partner")," in the example above).\nWhen executing ",Object(s.b)("inlineCode",{parentName:"p"},"update")," requests the version identifier will be sent in the ",Object(s.b)("inlineCode",{parentName:"p"},"If-match")," request header."),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"If a service requires this header to be sent: Fetching the entity from the service first is essential to ensure that the ETag is present and up to date."),Object(s.b)("p",{parentName:"div"},"By default, an ETag is sent if it's present on the entity being modified.\n",Object(s.b)("inlineCode",{parentName:"p"},"ignoreVersionIdentifier()")," will instead always send a ",Object(s.b)("inlineCode",{parentName:"p"},"*")," which acts as a wildcard to match all ETags."))))}u.isMDXComponent=!0},60:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/csrf-token",id:"js/features/odata/common/csrf-token",isDocsHomePage:!1,title:"csrf-token",description:"To create, update, and delete requests the SAP Cloud SDK will try to send a CSRF token.",source:"@site/docs/js/features/odata/common/csrf-token.mdx",slug:"/js/features/odata/common/csrf-token",permalink:"/cloud-sdk/docs/js/features/odata/common/csrf-token",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/csrf-token.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"To create, update, and delete requests the SAP Cloud SDK will try to send a ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Cross-site_request_forgery#Cookie-to-header_token"}),"CSRF token"),".\nUpon execution, the request will try to fetch a token first before issuing the create request.\nMany services require this behavior for security reasons.\nHowever, the create request will be made without a CSRF token if none could be obtained."))}u.isMDXComponent=!0},61:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/batch/batch-intro",id:"js/features/odata/common/batch/batch-intro",isDocsHomePage:!1,title:"batch-intro",description:"OData batch requests combine multiple operations into one POST operation, allowing you to execute multiple requests with just one network call.",source:"@site/docs/js/features/odata/common/batch/batch-intro.mdx",slug:"/js/features/odata/common/batch/batch-intro",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/batch-intro",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/batch/batch-intro.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"OData batch requests combine multiple operations into one POST operation, allowing you to execute multiple requests with just one network call.\nThis can significantly reduce the network overhead you have to deal with when you want to execute a large number of requests."),Object(s.b)("p",null,"An OData batch request can consist of a number of ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#retrieve-request"}),"retrieve requests")," and ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#changeset"}),"changesets"),".\nThose can be combined arbitrarily."))}u.isMDXComponent=!0},62:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/batch/combining-requests",id:"js/features/odata/common/batch/combining-requests",isDocsHomePage:!1,title:"combining-requests",description:"Batch requests can consist of as many retrieve requests and changesets as needed.",source:"@site/docs/js/features/odata/common/batch/combining-requests.mdx",slug:"/js/features/odata/common/batch/combining-requests",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/combining-requests",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/batch/combining-requests.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Batch requests can consist of as many retrieve requests and changesets as needed.\nIn the example below, we combine create requests, update requests, and get requests into one batch request.\nRemember, that any change requests have to be wrapped in a changeset.\nWe put the create requests into one changeset and combine the update and delete requests into another.\nThe ",Object(s.b)("inlineCode",{parentName:"p"},"GET")," requests are added to the batch request directly without wrapping."),Object(s.b)("p",null,"Once the batch request is executed the response will be an array of subresponses to the specific changeset and retrieve requests in the order that was given in the request.\nNote, that the subresponses of a ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#changeset"}),"changeset")," don't have to be in order."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"async function executeComplexBatch(\n  createAddressRequests: CreateRequestBuilder<BusinessPartnerAddress>[],\n  updateAddressRequests: UpdateRequestBuilder<BusinessPartnerAddress>[],\n  deleteAddressRequests: DeleteRequestBuilder<BusinessPartnerAddress>[],\n  getAddressByIdRequests: GetByKeyRequestBuilder<BusinessPartnerAddress>[]\n) {\n  // Execute batch request\n  const [\n    createAddressesResponse,\n    updateAndDeleteAddressesResponse,\n    ...getAddressesByIdResponses\n  ] = await batch(\n    changeset(...createAddressRequests),\n    changeset(...updateAddressRequests, ...deleteAddressRequests),\n    ...getAddressByIdRequests\n  ).execute(destination);\n\n  // Do something with responses\n}\n")))}u.isMDXComponent=!0},63:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/query-parameter/filter-one-to-one",id:"js/features/odata/common/query-parameter/filter-one-to-one",isDocsHomePage:!1,title:"filter-one-to-one",description:"In addition to basic properties, filters can also be applied on one-to-one navigation properties.",source:"@site/docs/js/features/odata/common/query-parameter/filter-one-to-one.mdx",slug:"/js/features/odata/common/query-parameter/filter-one-to-one",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/filter-one-to-one",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/query-parameter/filter-one-to-one.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"In addition to basic properties, filters can also be applied on one-to-one navigation properties.\nThe example below shows how to filter on the ",Object(s.b)("inlineCode",{parentName:"p"},"TO_CUSTOMER"),", which is a one-to-one navigation property of the BusinessPartner entity.\nPlease note, the ",Object(s.b)("inlineCode",{parentName:"p"},"CUSTOMER_NAME")," and ",Object(s.b)("inlineCode",{parentName:"p"},"CUSTOMER_FULL_NAME")," are properties of the entity ",Object(s.b)("inlineCode",{parentName:"p"},"Customer"),", which is the type of the one-to-one navigation property ",Object(s.b)("inlineCode",{parentName:"p"},"TO_CUSTOMER"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Get all business partners that match all the following conditions:\n    - Have customer with the customer name 'name'\n    - Have customer with the customer full name 'fullName'\n*/\n.filter(\n  BusinessPartner.TO_CUSTOMER.filter(\n    Customer.CUSTOMER_NAME.equals('name'),\n    Customer.CUSTOMER_FULL_NAME.equals('fullName')\n  )\n)\n")),Object(s.b)("p",null,"The generated ",Object(s.b)("inlineCode",{parentName:"p"},"$filter")," will be:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$filter=((to_Customer/CustomerName eq 'name' and to_Customer/CustomerFullName eq 'fullName'))\n")))}u.isMDXComponent=!0},64:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/update",id:"js/features/odata/common/operations/update",isDocsHomePage:!1,title:"update",description:"The Update request builder allows you to send PUT or PATCH requests.",source:"@site/docs/js/features/odata/common/operations/update.mdx",slug:"/js/features/odata/common/operations/update",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/update",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/update.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The Update request builder allows you to send ",Object(s.b)("inlineCode",{parentName:"p"},"PUT")," or ",Object(s.b)("inlineCode",{parentName:"p"},"PATCH")," requests.\nBy default ",Object(s.b)("inlineCode",{parentName:"p"},"PATCH")," is used to only update the changed fields:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().update(businessPartner);\n")),Object(s.b)("p",null,"In the example above only the changed fields of the given ",Object(s.b)("inlineCode",{parentName:"p"},"businessPartner")," instance are sent to the ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartner")," service using ",Object(s.b)("inlineCode",{parentName:"p"},"PATCH"),"."),Object(s.b)("p",null,"To update the whole entity use ",Object(s.b)("inlineCode",{parentName:"p"},"replaceWholeEntityWithPut"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .update(businessPartner)\n  .replaceWholeEntityWithPut();\n")),Object(s.b)("p",null,"This will send a ",Object(s.b)("inlineCode",{parentName:"p"},"PUT")," request and thereby replace the whole entity."),Object(s.b)("p",null,"Entities can only be updated if ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#handling-of-etags"}),"ETags")," match.\nIf you want to force an update of the entity regardless of the ETag configure the request to ignore version identifiers with ",Object(s.b)("inlineCode",{parentName:"p"},"ignoreVersionIdentifier"),":"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .update(businessPartner)\n  .ignoreVersionIdentifier();\n")))}u.isMDXComponent=!0},65:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/query-parameter/skip",id:"js/features/odata/common/query-parameter/skip",isDocsHomePage:!1,title:"skip",description:"skip allows you to skip a number of results in the requested set.",source:"@site/docs/js/features/odata/common/query-parameter/skip.mdx",slug:"/js/features/odata/common/query-parameter/skip",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/skip",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/query-parameter/skip.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"skip")," allows you to skip a number of results in the requested set.\nIt can be useful for paging:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().\n  .getAll()\n  .skip(10)\n")))}u.isMDXComponent=!0},66:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/query-parameter/top",id:"js/features/odata/common/query-parameter/top",isDocsHomePage:!1,title:"top",description:"top limits the number of returned results.",source:"@site/docs/js/features/odata/common/query-parameter/top.mdx",slug:"/js/features/odata/common/query-parameter/top",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/top",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/query-parameter/top.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,Object(s.b)("inlineCode",{parentName:"p"},"top")," limits the number of returned results.\nThis can also be useful for paging:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().\n  .getAll()\n  .top(10)\n")),Object(s.b)("p",null,"The example above retrieves the first ten ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartner")," entities."))}u.isMDXComponent=!0},67:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/batch/serialization",id:"js/features/odata/common/batch/serialization",isDocsHomePage:!1,title:"serialization",description:"By default when you execute a batch request, the subrequests are serialized to a multipart representation of the request, which is essentially a string.",source:"@site/docs/js/features/odata/common/batch/serialization.mdx",slug:"/js/features/odata/common/batch/serialization",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/serialization",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/batch/serialization.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"By default when you execute a batch request, the subrequests are serialized to a multipart representation of the request, which is essentially a string.\nThis is what a create request for a business partner addresses would serialize to:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{}),'Content-Type: application/http\nContent-Transfer-Encoding: binary\n\nPOST /sap/opu/odata/sap/API_BUSINESS_PARTNER/A_BusinessPartnerAddress HTTP/1.1\nContent-Type: application/json\nAccept: application/json\n\n{"BusinessPartner":"1","PostalCode":"10001","City":"New York","Country":"USA"}\n\n')),Object(s.b)("p",null,'The first lines are request headers for the multipart request, followed by a blank line.\nThe next line contains the request method and URL, followed by the request headers, a blank line, and the request payload.\nEvery "atomic" request is serialized to a string of this kind, while ',Object(s.b)("inlineCode",{parentName:"p"},"GET")," and ",Object(s.b)("inlineCode",{parentName:"p"},"DELETE")," requests do not provide a payload."))}u.isMDXComponent=!0},68:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/query-parameter/filter",id:"js/features/odata/common/query-parameter/filter",isDocsHomePage:!1,title:"filter",description:"When operating on a collection of entities the API offers filter( ... ) on the builders.",source:"@site/docs/js/features/odata/common/query-parameter/filter.mdx",slug:"/js/features/odata/common/query-parameter/filter",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/filter",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/query-parameter/filter.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"When operating on a collection of entities the API offers ",Object(s.b)("inlineCode",{parentName:"p"},"filter( ... )")," on the builders.\nIt directly corresponds to the ",Object(s.b)("inlineCode",{parentName:"p"},"$filter")," parameter of the request.\nFilters are also built via the static property fields on entities:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Get all business partners that either:\n    - Have first name 'Alice' but not last name 'Bob'\n    - Or have first name 'Mallory'\n*/\nBusinessPartner.requestBuilder()\n  .getAll()\n  .filter(\n    or(\n      and(\n        BusinessPartner.FIRST_NAME.equals('Alice'),\n        BusinessPartner.LAST_NAME.notEquals('Bob')\n      ),\n      BusinessPartner.FIRST_NAME.equals('Mallory')\n    )\n  )\n  .execute(destination);\n")),Object(s.b)("p",null,"The example above will translate to this filter parameter:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$filter=(((FirstName eq 'Alice') and (LastName ne 'Bob')) or (FirstName eq 'Mallory'))\n")),Object(s.b)("p",null,"Take note of the order of ",Object(s.b)("inlineCode",{parentName:"p"},"and")," and ",Object(s.b)("inlineCode",{parentName:"p"},"or"),".\nAs ",Object(s.b)("inlineCode",{parentName:"p"},"or")," is invoked on the result of ",Object(s.b)("inlineCode",{parentName:"p"},"and")," it will form the outer expression while ",Object(s.b)("inlineCode",{parentName:"p"},"and")," is an inner expression in the first branch of ",Object(s.b)("inlineCode",{parentName:"p"},"or"),"."),Object(s.b)("p",null,"It is also possible to pass multiple filters to the same filter function without concatenating them with ",Object(s.b)("inlineCode",{parentName:"p"},"and")," or ",Object(s.b)("inlineCode",{parentName:"p"},"or"),".\nThey will be concatenated with ",Object(s.b)("inlineCode",{parentName:"p"},"and")," by default.\nThe two following examples are equal:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),".filter(\n  and(\n    BusinessPartner.FIRST_NAME.equals('Alice'),\n    BusinessPartner.LAST_NAME.notEquals('Bob')\n  )\n)\n")),Object(s.b)("p",null,"The example above can be shortened to:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),".filter(\n  BusinessPartner.FIRST_NAME.equals('Alice'),\n  BusinessPartner.LAST_NAME.notEquals('Bob')\n)\n")))}u.isMDXComponent=!0},69:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/query-parameter/filter-functions",id:"js/features/odata/common/query-parameter/filter-functions",isDocsHomePage:!1,title:"filter-functions",description:"There are predefined filter functions e.g. length, substring, substringOf in the core library, that allow for a wide range of filter expressions:",source:"@site/docs/js/features/odata/common/query-parameter/filter-functions.mdx",slug:"/js/features/odata/common/query-parameter/filter-functions",permalink:"/cloud-sdk/docs/js/features/odata/common/query-parameter/filter-functions",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/query-parameter/filter-functions.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"There are predefined filter functions e.g. ",Object(s.b)("inlineCode",{parentName:"p"},"length"),", ",Object(s.b)("inlineCode",{parentName:"p"},"substring"),", ",Object(s.b)("inlineCode",{parentName:"p"},"substringOf")," in the core library, that allow for a wide range of filter expressions:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Fetch all business partners who have a first name shorter than 5 letters\n*/\nBusinessPartner.requestBuilder()\n  .getAll()\n  .filter(length(BusinessPartner.FIRST_NAME).lessThan(5))\n  .execute(destination);\n")))}u.isMDXComponent=!0},70:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/batch/configure-serialization",id:"js/features/odata/common/batch/configure-serialization",isDocsHomePage:!1,title:"configure-serialization",description:"By default, URLs in the multipart representation of a request are serialized to a path relative to the service, e.g.:",source:"@site/docs/js/features/odata/common/batch/configure-serialization.mdx",slug:"/js/features/odata/common/batch/configure-serialization",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/configure-serialization",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/batch/configure-serialization.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"By default, URLs in the multipart representation of a request are serialized to a path relative to the service, e.g.:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{}),"GET /sap/opu/odata/sap/API_BUSINESS_PARTNER/A_BusinessPartnerAddress?$format=json HTTP/1.1\n")),Object(s.b)("p",null,"However, some services might only understand URLs relative to the entity or even absolute URLs."),Object(s.b)("p",null,"To configure the serialization of the URLs within a batch request, you can set the subrequest path type with ",Object(s.b)("inlineCode",{parentName:"p"},"withSubRequestPathType"),".\nYou can either set it to ",Object(s.b)("inlineCode",{parentName:"p"},"'relativeToService'"),", as is the default, ",Object(s.b)("inlineCode",{parentName:"p"},"'relativeToEntity'"),", which will yield URLs relative to the entity or ",Object(s.b)("inlineCode",{parentName:"p"},"'absolute'"),", which will produce absolute URLs.\nSee below for examples:"),Object(s.b)("p",null,"Serialize subrequest path relative to entity:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"// GET /A_BusinessPartnerAddress?$format=json HTTP/1.1\nbatch(...requests).withSubRequestPathType('relativeToEntity');\n")),Object(s.b)("p",null,"Serialize subrequest path as absolute URL:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"// GET https://my-s4.system.com/sap/opu/odata/sap/API_BUSINESS_PARTNER/A_BusinessPartnerAddress?$format=json HTTP/1.1\nbatch(...requests).withSubRequestPathType('absolute');\n")))}u.isMDXComponent=!0},71:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/batch/changeset",id:"js/features/odata/common/batch/changeset",isDocsHomePage:!1,title:"changeset",description:"A changeset is a collection of HTTP POST, PUT, PATCH and DELETE operations - requests built by any CreateRequestBuilder, UpdateRequestBuilder and DeleteRequestBuilder in terms of the SAP Cloud SDK.",source:"@site/docs/js/features/odata/common/batch/changeset.mdx",slug:"/js/features/odata/common/batch/changeset",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/changeset",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/batch/changeset.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"A changeset is a collection of HTTP ",Object(s.b)("inlineCode",{parentName:"p"},"POST"),", ",Object(s.b)("inlineCode",{parentName:"p"},"PUT"),", ",Object(s.b)("inlineCode",{parentName:"p"},"PATCH")," and ",Object(s.b)("inlineCode",{parentName:"p"},"DELETE")," operations - requests built by any ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#create-request-builder"}),"CreateRequestBuilder"),", ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#update-request-builder"}),"UpdateRequestBuilder")," and ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#delete-request-builder"}),"DeleteRequestBuilder")," in terms of the SAP Cloud SDK.\nThe order of execution within a changeset is not defined.\nThis differs from the whole batch request itself, where the order is defined.\nTherefore the requests within a changeset should not depend on each other.\nIf the execution of any of the requests within a changeset fails, the whole changeset will be reflected as an error in the response and will not be applied, much like a database transaction."),Object(s.b)("p",null,"Change requests cannot be passed to a batch request directly.\nThey have to be combined in a changeset, which in turn can be passed to the batch request.\nOnce a batch request is executed it returns a list of ",Object(s.b)("inlineCode",{parentName:"p"},"BatchResponse"),"s.\nThose contain the raw response information of each subrequest.\nThe response to a changeset request can either be a collection of the subresponses to the subrequests of the changeset of type ",Object(s.b)("inlineCode",{parentName:"p"},"WriteResponses")," or an ",Object(s.b)("inlineCode",{parentName:"p"},"ErrorResponse"),".\nTo determine if a request was successful use ",Object(s.b)("inlineCode",{parentName:"p"},".isSuccess()"),"."),Object(s.b)("p",null,"Successful requests should be cast to ",Object(s.b)("inlineCode",{parentName:"p"},"WriteResponses")," which contains all subresponses for the changeset request.\nThose responses can be accessed by ",Object(s.b)("inlineCode",{parentName:"p"},".responses")," and have the type ",Object(s.b)("inlineCode",{parentName:"p"},"WriteResponse"),".\nEach ",Object(s.b)("inlineCode",{parentName:"p"},"WriteResponse")," contains the HTTP code and can contain the raw body and the constructor of the entity that was parsed from the response, depending on whether there was a body in the response.\nCreate and delete requests typically do not have a response body.\nTo work with an instance of an entity given in a ",Object(s.b)("inlineCode",{parentName:"p"},"WriteResponse"),", you can use the ",Object(s.b)("inlineCode",{parentName:"p"},".as")," method, which allows you to transform the raw string body into an instance of the given constructor.\nNote that the response may not exist, so you should only call this method if you know that there is data.\nTypically the HTTP code is a good indicator for this (",Object(s.b)("inlineCode",{parentName:"p"},"201 No Content")," probably won't have content).\nIf you are working with TypeScript you will have to tell the compiler, that the ",Object(s.b)("inlineCode",{parentName:"p"},".as!")," method can be used here by adding a ",Object(s.b)("inlineCode",{parentName:"p"},"!"),".\nAlso note, that retrieve responses can be ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#error-handling"}),Object(s.b)("inlineCode",{parentName:"a"},"ErrorResponse"),"s"),".\nTherefore, it is crucial to check responses for success, before casting them to ",Object(s.b)("inlineCode",{parentName:"p"},"WriteResponses"),"."),Object(s.b)("p",null,"In the example below, a list of addresses is mapped to ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#update-request-builder"}),"UpdateRequestBuilder"),"s.\nThese change requests are combined to one ",Object(s.b)("inlineCode",{parentName:"p"},"changeset"),", which is passed to the ",Object(s.b)("inlineCode",{parentName:"p"},"batch")," request and executed against a destination."),Object(s.b)("p",null,"Once the batch request is executed it returns a list of ",Object(s.b)("inlineCode",{parentName:"p"},"BatchResponse"),"s, which in this example contains one response only, namely the one for the changeset."),Object(s.b)("p",null,"If the request was not successful, an error will be thrown, otherwise, the subresponses are transformed into instances of ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartnerAddress"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"async function updateAddresses(\n  businessPartnerAddresses: BusinessPartnerAddress[]\n): Promise<BusinessPartnerAddress[]> {\n  // Create update requests\n  const updateRequests = businessPartnerAddresses.map(address =>\n    BusinessPartnerAddress.requestBuilder().update(address)\n  );\n\n  // Execute batch request with one changeset\n  const batchResponses = await batch(\n    // Combine update requests into one changeset\n    changeset(...updateRequests)\n  ).execute(destination);\n\n  // Get response for the changeset request\n  const changesetResonse = batchResponses[0];\n\n  // Error handling\n  if (!changesetResonse.isSuccess()) {\n    throw new Error('The changeset request was not successful.');\n  }\n\n  return (changesetResonse as WriteResponses).responses.map(response =>\n    // Transform response to an instance of BusinessPartnerAddress\n    response.as!(BusinessPartnerAddress)\n  );\n}\n")))}u.isMDXComponent=!0},72:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/function-imports/request-builder",id:"js/features/odata/common/function-imports/request-builder",isDocsHomePage:!1,title:"request-builder",description:"The function imports request builder helps build a request for a service operation containing parameters in a type-safe way.",source:"@site/docs/js/features/odata/common/function-imports/request-builder.mdx",slug:"/js/features/odata/common/function-imports/request-builder",permalink:"/cloud-sdk/docs/js/features/odata/common/function-imports/request-builder",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/function-imports/request-builder.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/classes/sap_cloud_sdk_core.functionimportrequestbuilderv2"}),"function imports request builder")," helps build a request for a service operation containing parameters in a type-safe way.\nThis time, as an example, the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"https://api.sap.com/api/API_WHSE_OUTB_DLV_ORDER/resource"}),Object(s.b)("inlineCode",{parentName:"a"},"Warehouse Outbound Delivery Order Service"))," is used, because not all the services contain function imports like the ",Object(s.b)("inlineCode",{parentName:"p"},"Business Partner Service"),".\nThe type-safe client for the ",Object(s.b)("inlineCode",{parentName:"p"},"Warehouse Outbound Delivery Order Service")," can be found in the package ",Object(s.b)("inlineCode",{parentName:"p"},"@sap/cloud-sdk-vdm-warehouse-outbound-delivery-order-service"),"."),Object(s.b)("p",null,"The example below creates a function import request builder for the service operation ",Object(s.b)("inlineCode",{parentName:"p"},"PostGoodsIssue")," and then execute it against your service."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"postGoodsIssue({ outboundDeliveryOrder: 'order' }).execute(destination);\n")),Object(s.b)("p",null,"The service operation is defined in the service metadata."))}u.isMDXComponent=!0},73:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/count",id:"js/features/odata/common/operations/count",isDocsHomePage:!1,title:"count",description:"The method count() allows you to get the number of elements in a collection.",source:"@site/docs/js/features/odata/common/operations/count.mdx",slug:"/js/features/odata/common/operations/count",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/count",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/count.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The method ",Object(s.b)("inlineCode",{parentName:"p"},"count()")," allows you to get the number of elements in a collection.\nIt is only available for ",Object(s.b)("inlineCode",{parentName:"p"},"getAll()")," requests and is added before the request execution:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().getAll().count();\n")),Object(s.b)("p",null,"The return type of count requests is a ",Object(s.b)("inlineCode",{parentName:"p"},"Promise<number>"),".\nYou can combine the ",Object(s.b)("inlineCode",{parentName:"p"},"count()")," with filter conditions.\nTo get the number of business partners with first name ",Object(s.b)("inlineCode",{parentName:"p"},"John")," execute the following request:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .filter(BusinessPartner.FIRST_NAME.equals('John'))\n  .count()\n  .getAll();\n")),Object(s.b)("p",null,"As defined in the OData spec ",Object(s.b)("inlineCode",{parentName:"p"},"count")," is not affected by ",Object(s.b)("inlineCode",{parentName:"p"},"top"),", ",Object(s.b)("inlineCode",{parentName:"p"},"skip"),", and ",Object(s.b)("inlineCode",{parentName:"p"},"orderBy"),"."),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),Object(s.b)("inlineCode",{parentName:"h5"},"top()")," and ",Object(s.b)("inlineCode",{parentName:"h5"},"skip()")," are ignored for count")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"If you include these methods in a count request they will be ignored by the SAP Cloud SDK.\nSo these three requests:"),Object(s.b)("pre",{parentName:"div"},Object(s.b)("code",Object(a.a)({parentName:"pre"},{}),"BusinessPartner.requestBuilder().getAll().top(5).count();\nBusinessPartner.requestBuilder().getAll().skip(5).count();\nBusinessPartner.requestBuilder().getAll().count();\n")),Object(s.b)("p",{parentName:"div"},"will all return the same value."))))}u.isMDXComponent=!0},74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/get-all",id:"js/features/odata/common/operations/get-all",isDocsHomePage:!1,title:"get-all",description:"The GetAll request builder allows you to create a request to retrieve all entities that match the request configuration.",source:"@site/docs/js/features/odata/common/operations/get-all.mdx",slug:"/js/features/odata/common/operations/get-all",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/get-all",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/get-all.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The GetAll request builder allows you to create a request to retrieve all entities that match the request configuration."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().getAll();\n")),Object(s.b)("p",null,"The example above creates a request to get all ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartner")," entities."))}u.isMDXComponent=!0},75:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/batch/retrieve-request",id:"js/features/odata/common/batch/retrieve-request",isDocsHomePage:!1,title:"retrieve-request",description:"A retrieve request is any HTTP GET request.",source:"@site/docs/js/features/odata/common/batch/retrieve-request.mdx",slug:"/js/features/odata/common/batch/retrieve-request",permalink:"/cloud-sdk/docs/js/features/odata/common/batch/retrieve-request",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/batch/retrieve-request.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"A retrieve request is any HTTP ",Object(s.b)("inlineCode",{parentName:"p"},"GET")," request.\nIn terms of the SAP Cloud SDK this includes all requests built by a ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#getall-request-builder"}),"GetAllRequestBuilder")," and ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#getbykey-request-builder"}),"GetByKeyRequestBuilder"),"."),Object(s.b)("p",null,"Retrieve requests can be passed directly to the ",Object(s.b)("inlineCode",{parentName:"p"},"batch")," function, which in turn can be executed once to execute all subrequests.\nOnce a batch request is executed it returns a list of ",Object(s.b)("inlineCode",{parentName:"p"},"BatchResponse"),"s.\nThose contain the raw response information of each subrequest, the subresponse to a retrieve subrequest can either be a ",Object(s.b)("inlineCode",{parentName:"p"},"ReadResponse")," or an ",Object(s.b)("inlineCode",{parentName:"p"},"ErrorResponse"),".\nTo determine if a request was successful use ",Object(s.b)("inlineCode",{parentName:"p"},".isSuccess()"),"."),Object(s.b)("p",null,"Successful requests can be cast to ",Object(s.b)("inlineCode",{parentName:"p"},"ReadResponse")," which contains the HTTP code, the raw body, and the constructor of the entity that was parsed from the response.\nTo work with an instance of the retrieved entity, you can use the ",Object(s.b)("inlineCode",{parentName:"p"},".as")," method, which allows you to transform the raw data into an instance of the given constructor.\nNote, that retrieve responses can be ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#error-handling"}),Object(s.b)("inlineCode",{parentName:"a"},"ErrorResponse"),"s"),".\nTherefore, it is crucial to check responses for success, before casting them to ",Object(s.b)("inlineCode",{parentName:"p"},"ReadResponse"),"."),Object(s.b)("p",null,"In the example below, each given address id is mapped to a ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#getbykey-request-builder"}),"GetByKeyRequestBuilder"),".\nThese retrieve requests are combined into one ",Object(s.b)("inlineCode",{parentName:"p"},"batch")," request and executed against a destination."),Object(s.b)("p",null,"If one of the requests was not successful, an error will be thrown, otherwise, the responses are transformed into instances of ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartnerAddress"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"async function getAddressesByIds(\n  businessPartnerId: string,\n  addressIds: string[]\n): Promise<BusinessPartnerAddress[]> {\n  const retrieveRequests = addressIds.map(addressId =>\n    // Create get by key request\n    BusinessPartnerAddress.requestBuilder().getByKey(\n      businessPartnerId,\n      addressId\n    )\n  );\n\n  // Execute batch request combining multiple retrieve requests\n  const batchResponses = await batch(...retrieveRequests).execute(destination);\n\n  // Error handling\n  if (batchResponses.some(response => !response.isSuccess())) {\n    throw new Error('Some of the batch subrequests were not successful.');\n  }\n\n  return batchResponses.reduce(\n    (addresses: BusinessPartnerAddress[], response: BatchResponse) => [\n      ...addresses,\n      // Transform response to an instance of BusinessPartnerAddress\n      ...(response as ReadResponse).as(BusinessPartnerAddress)\n    ],\n    []\n  );\n}\n")))}u.isMDXComponent=!0},76:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/create",id:"js/features/odata/common/operations/create",isDocsHomePage:!1,title:"create",description:"The Create request builder allows you to send a POST request to create a new entity:",source:"@site/docs/js/features/odata/common/operations/create.mdx",slug:"/js/features/odata/common/operations/create",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/create",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/create.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The Create request builder allows you to send a ",Object(s.b)("inlineCode",{parentName:"p"},"POST")," request to create a new entity:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const businessPartner = BusinessPartner.builder().build();\nBusinessPartner.requestBuilder().create(businessPartner);\n")),Object(s.b)("p",null,"In the example above we created an instance of ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartner")," and sent it to the ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartner")," service in a ",Object(s.b)("inlineCode",{parentName:"p"},"POST")," request."))}u.isMDXComponent=!0},77:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/deep-create",id:"js/features/odata/common/operations/deep-create",isDocsHomePage:!1,title:"deep-create",description:"It is also possible to create an entity together with related entities in a single request:",source:"@site/docs/js/features/odata/common/operations/deep-create.mdx",slug:"/js/features/odata/common/operations/deep-create",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/deep-create",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/deep-create.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"It is also possible to create an entity together with related entities in a single request:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"// build a business partner instance with one linked address\nconst businessPartner = BusinessPartner.builder()\n  .firstName('John')\n  .lastName('Doe')\n  .businessPartnerCategory('1')\n  .toBusinessPartnerAddress([\n    BusinessPartnerAddress.builder()\n      .country('DE')\n      .postalCode('14469')\n      .cityName('Potsdam')\n      .streetName('Konrad-Zuse-Ring')\n      .houseNumber('10')\n      .build()\n  ])\n  .build();\n\n// execute the create request\nBusinessPartner.requestBuilder().create(businessPartner).execute(myDestination);\n")),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Troubleshooting")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"When you try the example code above for testing the ",Object(s.b)("inlineCode",{parentName:"p"},"deep creat")," feature, you might see some errors like ",Object(s.b)("inlineCode",{parentName:"p"},'"operation module BUA_CHECK_ADDRESS_VALIDITY_ALL; a check table is missing"'),".\nTypically, it can happen if you are using a new system with a default configuration.\nYou need to configure an ",Object(s.b)("inlineCode",{parentName:"p"},"address usage")," field as shown in the example below to fix it."))),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"const businessPartner = BusinessPartner.builder()\n  .firstName('John')\n  .lastName('Doe')\n  .businessPartnerCategory('1')\n  .toBusinessPartnerAddress([\n    BusinessPartnerAddress.builder()\n      .country('DE')\n      .postalCode('14469')\n      .cityName('Potsdam')\n      .streetName('Konrad-Zuse-Ring')\n      .houseNumber('10')\n      // additional code starts\n      .toAddressUsage([\n        BuPaAddressUsage.builder().addressUsage('XXDEFAULT').build()\n      ])\n      .build()\n  ])\n  .build();\n")),Object(s.b)("p",null,"You can also create an entity ",Object(s.b)("inlineCode",{parentName:"p"},"asChildOf")," another entity."))}u.isMDXComponent=!0},78:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/common/operations/get-by-key",id:"js/features/odata/common/operations/get-by-key",isDocsHomePage:!1,title:"get-by-key",description:"The GetByKey request builder allows you to create a request to retrieve one entity based on its key:",source:"@site/docs/js/features/odata/common/operations/get-by-key.mdx",slug:"/js/features/odata/common/operations/get-by-key",permalink:"/cloud-sdk/docs/js/features/odata/common/operations/get-by-key",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/common/operations/get-by-key.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"The GetByKey request builder allows you to create a request to retrieve one entity based on its key:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder().getByKey('id');\n")),Object(s.b)("p",null,"The example above retrieves the ",Object(s.b)("inlineCode",{parentName:"p"},"BusinessPartner")," with the id ",Object(s.b)("inlineCode",{parentName:"p"},"'id'"),"."),Object(s.b)("p",null,"The result can be restricted by applying the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#select"}),"select")," function, same as in the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#getall-request-builder"}),"GetAll")," request."))}u.isMDXComponent=!0},79:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/subqueries-in-expand",id:"js/features/odata/v4/subqueries-in-expand",isDocsHomePage:!1,title:"subqueries-in-expand",description:"Note that you can create very complex queries within the expand scope:",source:"@site/docs/js/features/odata/v4/subqueries-in-expand.mdx",slug:"/js/features/odata/v4/subqueries-in-expand",permalink:"/cloud-sdk/docs/js/features/odata/v4/subqueries-in-expand",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/subqueries-in-expand.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Note that you can create very complex queries within the expand scope:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder()\n  .getAll()\n  .expand(\n    People.FRIENDS.select(People.FIRST_NAME, People.ADDRESS_INFO)\n      .filter(People.LAST_NAME.equals('Miller'))\n      .orderBy(asc(People.GENDER))\n      .top(1)\n      .skip(1)\n  );\n")),Object(s.b)("p",null,"In this example, the filter will reduce the friends to be shown.\nThe effect of a filter depends on whether it is used in or outside of an ",Object(s.b)("inlineCode",{parentName:"p"},"expand"),".\nThe different cases are explained in ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#filterParentChildren"}),"Filters in Expand.")),Object(s.b)("p",null,"The URL for the query will be:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"/People?$expand=Friends($select=FirstName,AddressInfo;$filter=(LastName eq 'Miller');$skip=1;$top=1;$orderby=Gender asc)\n")))}u.isMDXComponent=!0},80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/action-import",id:"js/features/odata/v4/action-import",isDocsHomePage:!1,title:"action-import",description:"Similar to the function import mentioned above, the action import request builder has the same structure, so you can build action requests the same way as the function import.",source:"@site/docs/js/features/odata/v4/action-import.mdx",slug:"/js/features/odata/v4/action-import",permalink:"/cloud-sdk/docs/js/features/odata/v4/action-import",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/action-import.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Similar to the function import mentioned above, the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"https://sap.github.io/cloud-sdk/api/1.32.1/classes/sap_cloud_sdk_core.actionimportrequestbuilder"}),"action import request builder")," has the same structure, so you can build action requests the same way as the function import."))}u.isMDXComponent=!0},82:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/filter-parent-child",id:"js/features/odata/v4/filter-parent-child",isDocsHomePage:!1,title:"filter-parent-child",description:"Depending on the context of the filter it will either filter the parent or the children.",source:"@site/docs/js/features/odata/v4/filter-parent-child.mdx",slug:"/js/features/odata/v4/filter-parent-child",permalink:"/cloud-sdk/docs/js/features/odata/v4/filter-parent-child",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/filter-parent-child.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Depending on the context of the filter it will either filter the parent or the children.\nIn our example, we have a ",Object(s.b)("inlineCode",{parentName:"p"},"PERSON")," related to zero to N ",Object(s.b)("inlineCode",{parentName:"p"},"FRIENDS")," which are both of type people."),Object(s.b)("p",null,"If you want to get all people with first name ",Object(s.b)("inlineCode",{parentName:"p"},"John")," the query is:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder().getAll().filter(People.FIRST_NAME.equals('John'));\n")),Object(s.b)("p",null,"If you want to get all people who have at least one friend with first name ",Object(s.b)("inlineCode",{parentName:"p"},"John")," the query is:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder()\n  .getAll()\n  .filter(People.FRIENDS.filter(any(People.FIRST_NAME.equals('John'))));\n")),Object(s.b)("p",null,"The lambda ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/modules/sap_cloud_sdk_core#all"}),"all")," would enforce that all friends must have first name ",Object(s.b)("inlineCode",{parentName:"p"},"John"),".\nThe two queries above filter the parent entity person."),Object(s.b)("p",null,"In case you want to get all people but reduce the friends in the response, the filter has to be inside the expand:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder()\n  .getAll()\n  .expand(People.FRIENDS.filter(People.FIRST_NAME.equals('John')));\n")),Object(s.b)("p",null,"This will return all people but only the friends with the first name ",Object(s.b)("inlineCode",{parentName:"p"},"John")," will be included in the response."))}u.isMDXComponent=!0},83:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/function-import-known-issues",id:"js/features/odata/v4/function-import-known-issues",isDocsHomePage:!1,title:"function-import-known-issues",description:"1. Currently, the Entity Type is not supported to be used as the parameters of the function import.",source:"@site/docs/js/features/odata/v4/function-import-known-issues.mdx",slug:"/js/features/odata/v4/function-import-known-issues",permalink:"/cloud-sdk/docs/js/features/odata/v4/function-import-known-issues",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/function-import-known-issues.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},"Currently, the ",Object(s.b)("inlineCode",{parentName:"li"},"Entity Type")," is not supported to be used as the parameters of the function import.\nFunction imports with such unsupported parameters are ignored during the generation.\nThis feature will be implemented in the future.\nPlease check this ",Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/SAP/cloud-sdk-js/issues/707"}),"issue")," and comment if you need this feature."),Object(s.b)("li",{parentName:"ol"},"Also, for the time being, we only support ",Object(s.b)("inlineCode",{parentName:"li"},"unbound functions"),".\nThe ",Object(s.b)("inlineCode",{parentName:"li"},"bound functions")," will be supported later, you can create a feature request ",Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/SAP/cloud-sdk-js/issues/new?assignees=&labels=feature+request&template=feature_request.md&title="}),"here"),".")))}u.isMDXComponent=!0},84:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/select",id:"js/features/odata/v4/select",isDocsHomePage:!1,title:"select",description:"When reading entities, the API offers select( ... ) on the builders.",source:"@site/docs/js/features/odata/v4/select.mdx",slug:"/js/features/odata/v4/select",permalink:"/cloud-sdk/docs/js/features/odata/v4/select",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/select.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"When reading entities, the API offers ",Object(s.b)("inlineCode",{parentName:"p"},"select( ... )")," on the builders.\nNote that for OData v4 a ",Object(s.b)("inlineCode",{parentName:"p"},"select")," does not automatically expand navigation properties.\nSee ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"#expand-and-select"}),"here")," for details on select and expand.\nFor non navigational property the ",Object(s.b)("inlineCode",{parentName:"p"},"select")," behaves as follows:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"BusinessPartner.requestBuilder()\n  .getAll()\n  .select(BusinessPartner.FIRST_NAME, BusinessPartner.LAST_NAME)\n  .execute(destination);\n")),Object(s.b)("p",null,"The above translates to the following query parameters:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$select=FirstName,LastName\n")))}u.isMDXComponent=!0},85:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/expand-select",id:"js/features/odata/v4/expand-select",isDocsHomePage:!1,title:"expand-select",description:"In contrast to the OData v2 implementation, you have to select and expand separately.",source:"@site/docs/js/features/odata/v4/expand-select.mdx",slug:"/js/features/odata/v4/expand-select",permalink:"/cloud-sdk/docs/js/features/odata/v4/expand-select",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/expand-select.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"In contrast to the OData v2 implementation, you have to ",Object(s.b)("inlineCode",{parentName:"p"},"select")," and ",Object(s.b)("inlineCode",{parentName:"p"},"expand")," separately.\nIn other words selected properties are not expanded automatically as in v2."),Object(s.b)("p",null,"The reason for this difference originates in the way select and expand work in OData v4.\nIn OData v4 you select within the expand argument ",Object(s.b)("inlineCode",{parentName:"p"},"$expand=Friends($select=FirstName)")," whereas in OData v2 you select via a path ",Object(s.b)("inlineCode",{parentName:"p"},"$select=Friends/FirstName&$expand=Friends"),".\nThat's why we mimic this behavior for ",Object(s.b)("inlineCode",{parentName:"p"},"select")," and ",Object(s.b)("inlineCode",{parentName:"p"},"expand")," operations in our API for OData v4 type-safe client."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"People.requestBuilder()\n  .getAll()\n  .select(People.LAST_NAME)\n  .expand(People.FRIENDS.select(People.FIRST_NAME, People.ADDRESS_INFO));\n")),Object(s.b)("p",null,"In the example above you select the ",Object(s.b)("inlineCode",{parentName:"p"},"LAST_NAME")," of the root entity and expand the navigation property ",Object(s.b)("inlineCode",{parentName:"p"},"FRIENDS"),".\nIn the expanded entity the selected fields are ",Object(s.b)("inlineCode",{parentName:"p"},"FIRST_NAME")," and ",Object(s.b)("inlineCode",{parentName:"p"},"ADDRESS_INFO"),"."),Object(s.b)("p",null,"The generated URL for this request will be:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"/People?$select=LastName&$expand=Friends($select=FirstName,AddressInfo)\n")),Object(s.b)("p",null,"If no ",Object(s.b)("inlineCode",{parentName:"p"},"select")," is given, all non-navigational properties are included in the response."))}u.isMDXComponent=!0},86:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/filter-one-to-many",id:"js/features/odata/v4/filter-one-to-many",isDocsHomePage:!1,title:"filter-one-to-many",description:"OData V4 introduces lambda operators e.g., any/all, so that the root property of the one-to-many navigation properties can be filtered.",source:"@site/docs/js/features/odata/v4/filter-one-to-many.mdx",slug:"/js/features/odata/v4/filter-one-to-many",permalink:"/cloud-sdk/docs/js/features/odata/v4/filter-one-to-many",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/filter-one-to-many.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"OData V4 introduces ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"http://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html#sec_LambdaOperators"}),"lambda operators")," e.g., ",Object(s.b)("inlineCode",{parentName:"p"},"any"),"/",Object(s.b)("inlineCode",{parentName:"p"},"all"),", so that the root property of the one-to-many navigation properties can be filtered.\nBelow is an example that demonstrates how to use the lambda operator ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"pathname:///api/1.28.1/modules/sap_cloud_sdk_core#any"}),"any"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),"/*\n  Get all people that have at least one friend that matches all the following conditions:\n    - Has first name 'firstName'\n    - Has last name 'lastName'\n*/\n.filter(\n  any(\n    People.FRIENDS.filter(\n      People.FIRST_NAME.equals('firstName'),\n      People.LAST_NAME.equals('lastName')\n    )\n  )\n)\n")),Object(s.b)("p",null,"The generated ",Object(s.b)("inlineCode",{parentName:"p"},"$filter")," parameter of the URL will be:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sql"}),"$filter=(/any(a0:((a0/Friends/FirstName eq 'firstName' and a0/Friends/LastName eq 'lastName'))))\n")))}u.isMDXComponent=!0},87:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),s=(n(0),n(204)),o={},i={unversionedId:"js/features/odata/v4/action-import-known-issues",id:"js/features/odata/v4/action-import-known-issues",isDocsHomePage:!1,title:"action-import-known-issues",description:"1. Similar to the function import, the action import does not support Entity Type as parameters.",source:"@site/docs/js/features/odata/v4/action-import-known-issues.mdx",slug:"/js/features/odata/v4/action-import-known-issues",permalink:"/cloud-sdk/docs/js/features/odata/v4/action-import-known-issues",editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/v4/action-import-known-issues.mdx",version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:1612612324},c=[],d={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("ol",null,Object(s.b)("li",{parentName:"ol"},"Similar to the ",Object(s.b)("inlineCode",{parentName:"li"},"function import"),", the ",Object(s.b)("inlineCode",{parentName:"li"},"action import")," does not support ",Object(s.b)("inlineCode",{parentName:"li"},"Entity Type")," as parameters."),Object(s.b)("li",{parentName:"ol"},"Also, we only support ",Object(s.b)("inlineCode",{parentName:"li"},"unbound actions")," for now.\nWe plan to support ",Object(s.b)("inlineCode",{parentName:"li"},"bound actions")," in the future, please create a feature request ",Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/SAP/cloud-sdk-js/issues/new?assignees=&labels=feature+request&template=feature_request.md&title="}),"here"),".")))}u.isMDXComponent=!0}}]);